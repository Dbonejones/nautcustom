[
 {
  "docstatus": 0, 
  "doctype": "Custom Script", 
  "dt": "NDA", 
  "modified": "2017-08-30 09:00:59.704795", 
  "name": "NDA-Client", 
  "script": "// cur_frm.set_value(\"user\" , frappe.user.full_name);\nfrappe.ui.form.on(\"NDA\", {\n    refresh: function(frm) {\n        frm.set_df_property(\"agree\", \"read_only\", frm.doc.__islocal ? 0 : 1);\n    }\n});\n", 
  "script_type": "Client"
 }, 
 {
  "docstatus": 0, 
  "doctype": "Custom Script", 
  "dt": "Expense Claim", 
  "modified": "2017-10-03 13:23:59.190269", 
  "name": "Expense Claim-Client", 
  "script": "frappe.ui.form.on(\"Expense Claim\", \"refresh\", function(frm) {\n\tif (frm.doc.__islocal){\n\t\tcur_frm.fields_dict.expenses.grid.toggle_enable(\"receipt\", false);\n\t\tcur_frm.fields_dict.expenses.grid.set_column_disp(\"receipt\", false);\n        \t}\n\t}\n);\nfrappe.ui.form.on(\"Expense Claim\", \"validate\", function(frm) {\n\tcur_frm.fields_dict.expenses.grid.toggle_enable(\"receipt\", true);\n\tcur_frm.fields_dict.expenses.grid.set_column_disp(\"receipt\", true);\n        }\n);\n/*frappe.ui.form.on(\"Expense Claim\", \"refresh\", function(frm) {\n\tcur_frm.set_value(\"employee\", frappe.defaults.get_user_default(\"Employee\"));\n\t}\n);*/\ncur_frm.add_fetch(\"employee\", \"department\", \"department\");\nfrappe.ui.form.on(\"Expense Claim Detail\", \"claim_amount\", function(frm, cdt, cdn){\n    var d = locals[cdt][cdn];\n    frappe.model.set_value(cdt, cdn, \"sanctioned_amount\", d.claim_amount);\n});", 
  "script_type": "Client"
 }, 
 {
  "docstatus": 0, 
  "doctype": "Custom Script", 
  "dt": "Quotation", 
  "modified": "2017-11-28 15:33:58.825500", 
  "name": "Quotation-Client", 
  "script": "cur_frm.fields_dict['multi_tc'].grid.get_field('mt_title').get_query = function(doc) {\n    return {\n        filters: [[\n            'Terms and Conditions', 'type', '=', doc.type_select\n        ]]\n    }\n};\nfrappe.ui.form.on(\"Quotation\", \"refresh\", function(frm) {cur_frm.fields_dict['items'].grid.get_field('item_code').get_query = function(doc) {\n        return {\n            filters: [[\n                'Item', 'item_group', '=', 'Quote Only'\n            ]]\n        }\n    };\n});\nfrappe.ui.form.on(\"Quotation\", \"refresh\", function(frm) {cur_frm.fields_dict['optional_items'].grid.get_field('item_code').get_query = function(doc) {\n        return {\n            filters: [[\n                'Item', 'item_group', '=', 'Quote Only'\n            ]]\n        }\n    };\n});\nfrappe.ui.form.on(\"Quotation\", {\n\"quote_type\": function(frm) {\n        if (frm.doc.quote_type=='Budgetary Quote') {\n          (frm.toggle_reqd('looking_for', true));\n          (frm.toggle_reqd('vessel_type', true));\n          (frm.toggle_reqd('classification', true));\n          (frm.toggle_reqd('vessel_length', true));\n          (frm.toggle_reqd('cur_noz_type', true));\n          (frm.toggle_reqd('no_of_props', true));\n          (frm.toggle_reqd('cur_prop_dia', true));\n          (frm.toggle_reqd('prop_rotation', false));\n          (frm.toggle_reqd('prop_blade_number', false));\n          (frm.toggle_reqd('prop_shaft_angle', false));\n          (frm.toggle_reqd('design_speed', false));\n          (frm.toggle_reqd('required_thrust', false));\n          (frm.toggle_reqd('engine_manufacturer', false));\n          (frm.toggle_reqd('maximum_speed', false));\n          (frm.toggle_reqd('engine_model', false));\n          (frm.toggle_reqd('engine_hp', false));\n          (frm.toggle_reqd('engine_rpm', false));\n          (frm.toggle_reqd('gear_box_manufacturer', false));\n          (frm.toggle_reqd('gear_box_model', false));\n          (frm.toggle_reqd('gear_ratio', false));\n          (frm.toggle_reqd('in_out_profile', false));\n        }\n        else if (frm.doc.quote_type=='Final Quote') {\n          (frm.toggle_reqd('looking_for', true));\n          (frm.toggle_reqd('vessel_type', true));\n          (frm.toggle_reqd('classification', true));\n          (frm.toggle_reqd('vessel_length', true));\n          (frm.toggle_reqd('cur_noz_type', true));\n          (frm.toggle_reqd('no_of_props', true));\n          (frm.toggle_reqd('cur_prop_dia', true));\n          (frm.toggle_reqd('prop_rotation', true));\n          (frm.toggle_reqd('prop_blade_number', true));\n          (frm.toggle_reqd('prop_shaft_angle', true));\n          (frm.toggle_reqd('design_speed', true));\n          (frm.toggle_reqd('required_thrust', true));\n          (frm.toggle_reqd('engine_manufacturer', true));\n          (frm.toggle_reqd('maximum_speed', true));\n          (frm.toggle_reqd('engine_model', true));\n          (frm.toggle_reqd('engine_hp', true));\n          (frm.toggle_reqd('engine_rpm', true));\n          (frm.toggle_reqd('gear_box_manufacturer', true));\n          (frm.toggle_reqd('gear_box_model', true));\n          (frm.toggle_reqd('gear_ratio', true));\n          (frm.toggle_reqd('in_out_profile', true));\n        }\n        else {\n          (frm.toggle_reqd('looking_for', false));\n          (frm.toggle_reqd('vessel_type', false));\n          (frm.toggle_reqd('classification', false));\n          (frm.toggle_reqd('vessel_length', false));\n          (frm.toggle_reqd('cur_noz_type', false));\n          (frm.toggle_reqd('no_of_props', false));\n          (frm.toggle_reqd('cur_prop_dia', false));\n          (frm.toggle_reqd('prop_rotation', false));\n          (frm.toggle_reqd('prop_blade_number', false));\n          (frm.toggle_reqd('prop_shaft_angle', false));\n          (frm.toggle_reqd('design_speed', false));\n          (frm.toggle_reqd('required_thrust', false));\n          (frm.toggle_reqd('engine_manufacturer', false));\n          (frm.toggle_reqd('maximum_speed', false));\n          (frm.toggle_reqd('engine_model', false));\n          (frm.toggle_reqd('engine_hp', false));\n          (frm.toggle_reqd('engine_rpm', false));\n          (frm.toggle_reqd('gear_box_manufacturer', false));\n          (frm.toggle_reqd('gear_box_model', false));\n          (frm.toggle_reqd('gear_ratio', false));\n          (frm.toggle_reqd('in_out_profile', false));\n        }\n      }\n});\nfrappe.ui.form.on(\"Quotation\", \"onload\", function(frm) {\n        if (frm.doc.quote_type=='Budgetary Quote') {\n          (frm.toggle_reqd('looking_for', true));\n          (frm.toggle_reqd('vessel_type', true));\n          (frm.toggle_reqd('classification', true));\n          (frm.toggle_reqd('vessel_length', true));\n          (frm.toggle_reqd('cur_noz_type', true));\n          (frm.toggle_reqd('no_of_props', true));\n          (frm.toggle_reqd('cur_prop_dia', true));\n          (frm.toggle_reqd('prop_rotation', false));\n          (frm.toggle_reqd('prop_blade_number', false));\n          (frm.toggle_reqd('prop_shaft_angle', false));\n          (frm.toggle_reqd('design_speed', false));\n          (frm.toggle_reqd('required_thrust', false));\n          (frm.toggle_reqd('engine_manufacturer', false));\n          (frm.toggle_reqd('maximum_speed', false));\n          (frm.toggle_reqd('engine_model', false));\n          (frm.toggle_reqd('engine_hp', false));\n          (frm.toggle_reqd('engine_rpm', false));\n          (frm.toggle_reqd('gear_box_manufacturer', false));\n          (frm.toggle_reqd('gear_box_model', false));\n          (frm.toggle_reqd('gear_ratio', false));\n          (frm.toggle_reqd('in_out_profile', false));\n        }\n        else if (frm.doc.quote_type=='Final Quote') {\n          (frm.toggle_reqd('looking_for', true));\n          (frm.toggle_reqd('vessel_type', true));\n          (frm.toggle_reqd('classification', true));\n          (frm.toggle_reqd('vessel_length', true));\n          (frm.toggle_reqd('cur_noz_type', true));\n          (frm.toggle_reqd('no_of_props', true));\n          (frm.toggle_reqd('cur_prop_dia', true));\n          (frm.toggle_reqd('prop_rotation', true));\n          (frm.toggle_reqd('prop_blade_number', true));\n          (frm.toggle_reqd('prop_shaft_angle', true));\n          (frm.toggle_reqd('design_speed', true));\n          (frm.toggle_reqd('required_thrust', true));\n          (frm.toggle_reqd('engine_manufacturer', true));\n          (frm.toggle_reqd('maximum_speed', true));\n          (frm.toggle_reqd('engine_model', true));\n          (frm.toggle_reqd('engine_hp', true));\n          (frm.toggle_reqd('engine_rpm', true));\n          (frm.toggle_reqd('gear_box_manufacturer', true));\n          (frm.toggle_reqd('gear_box_model', true));\n          (frm.toggle_reqd('gear_ratio', true));\n          (frm.toggle_reqd('in_out_profile', true));\n        }\n        else {\n          (frm.toggle_reqd('looking_for', false));\n          (frm.toggle_reqd('vessel_type', false));\n          (frm.toggle_reqd('classification', false));\n          (frm.toggle_reqd('vessel_length', false));\n          (frm.toggle_reqd('cur_noz_type', false));\n          (frm.toggle_reqd('no_of_props', false));\n          (frm.toggle_reqd('cur_prop_dia', false));\n          (frm.toggle_reqd('prop_rotation', false));\n          (frm.toggle_reqd('prop_blade_number', false));\n          (frm.toggle_reqd('prop_shaft_angle', false));\n          (frm.toggle_reqd('design_speed', false));\n          (frm.toggle_reqd('required_thrust', false));\n          (frm.toggle_reqd('engine_manufacturer', false));\n          (frm.toggle_reqd('maximum_speed', false));\n          (frm.toggle_reqd('engine_model', false));\n          (frm.toggle_reqd('engine_hp', false));\n          (frm.toggle_reqd('engine_rpm', false));\n          (frm.toggle_reqd('gear_box_manufacturer', false));\n          (frm.toggle_reqd('gear_box_model', false));\n          (frm.toggle_reqd('gear_ratio', false));\n          (frm.toggle_reqd('in_out_profile', false));\n        }\n});\nfrappe.ui.form.on(\"Quotation\", \"onload\", function(frm) {\n\tfrappe.db.get_value(\"Opportunity\", { name: cur_frm.doc.opportunity },\n\t\t\"name\", function(data){\n\tcur_frm.set_value(\"project_number\", data.name);\n\t});\n\tfrappe.db.get_value(\"Opportunity\", { name: cur_frm.doc.opportunity },\n\t\t\"title\", function(data){\n\tcur_frm.set_value(\"project_name\", data.title); \n\t});\n\tcur_frm.set_value(\"currency\", \"USD\");\n\tif (frm.doc.opportunity ===undefined) {\n\t\tmsgprint(\"A Quotation can ONLY be generated from an \" + frm.doc.link + \". Please go \t\t\tback and start your quote there, ensuring all intake details for your quote type are input.\");\n\t}\n\tif (frm.doc.quote_type ==\"Production\") {\n\t\tcur_frm.set_value(\"quote_type\", \"Final Quote\");\n}});\nfrappe.ui.form.on(\"Quotation\", \"refresh\", function(frm){\n\tfrm.add_custom_button(\"Go back to Opportunity\", function(){\n\t\t\twindow.location.href = \"#List/Opportunity/List\";\n\t});\n});", 
  "script_type": "Client"
 }, 
 {
  "docstatus": 0, 
  "doctype": "Custom Script", 
  "dt": "Request for Quotation", 
  "modified": "2016-12-12 13:14:42.471214", 
  "name": "Request for Quotation-Client", 
  "script": "frappe.ui.form.on(\"Request for Quotation\",{\nrefresh: function(frm) {\nif(frm.doc.docstatus==1) {\nfrm.add_custom_button(__(\"Load Attachments\"), function(foo) {\n\n    \tfrappe.call({\n    \t\tmethod:\"nautcustom.nautcustom.load_attachments.attach_all_docs\",\n    \t\targs: {\n    \t\t\tdocument: cur_frm.doc,\n\n    \t\t},\n    \t\tcallback: function(r) {\n    \t\t\tfrm.reload_doc();\n\n    \t\t}\n    \t});\n\n});\n}\n}\n});\ncur_frm.fields_dict['multi_tc'].grid.get_field('mt_title').get_query = function(doc) {\n    return {\n        filters: [[\n            'Terms and Conditions', 'type', '=', doc.type_select\n        ]]\n    }\n};", 
  "script_type": "Client"
 }, 
 {
  "docstatus": 0, 
  "doctype": "Custom Script", 
  "dt": "Purchase Order", 
  "modified": "2016-12-12 13:14:32.686955", 
  "name": "Purchase Order-Client", 
  "script": "frappe.ui.form.on(\"Purchase Order\",{\nrefresh: function(frm) {\nif(frm.doc.docstatus==1) {\nfrm.add_custom_button(__(\"Load Attachments\"), function(foo) {\n\n    \tfrappe.call({\n    \t\tmethod:\"nautcustom.nautcustom.load_attachments.attach_all_docs\",\n    \t\targs: {\n    \t\t\tdocument: cur_frm.doc,\n\n    \t\t},\n    \t\tcallback: function(r) {\n    \t\t\tfrm.reload_doc();\n\n    \t\t}\n    \t});\n\n});\n}\n}\n});\ncur_frm.fields_dict['multi_tc'].grid.get_field('mt_title').get_query = function(doc) {\n    return {\n        filters: [[\n            'Terms and Conditions', 'type', '=', doc.type_select\n        ]]\n    }\n};", 
  "script_type": "Client"
 }, 
 {
  "docstatus": 0, 
  "doctype": "Custom Script", 
  "dt": "Attendance", 
  "modified": "2017-07-31 10:42:12.984175", 
  "name": "Attendance-Client", 
  "script": "cur_frm.add_fetch(\"employee\", \"department\", \"department\");", 
  "script_type": "Client"
 }, 
 {
  "docstatus": 0, 
  "doctype": "Custom Script", 
  "dt": "Leave Application", 
  "modified": "2017-06-13 16:27:11.524932", 
  "name": "Leave Application-Client", 
  "script": "frappe.ui.form.on(\"Leave Application\", {\n\"employee\": function(frm) {\n\t\tif(frm.doc.employee) {\n\t\t\treturn frappe.call({\n\t\t\t\tmethod: \"erpnext.hr.doctype.leave_application.leave_application.get_leave_balance_on\",\n\t\t\t\targs: {\n\t\t\t\t\temployee: frm.doc.employee,\n\t\t\t\t\tdate: frm.doc.posting_date,\n\t\t\t\t\tleave_type: 'Sick Leave',\n\t\t\t\t\tconsider_all_leaves_in_the_allocation_period: true\n\t\t\t\t},\n\t\t\t\tcallback: function(r) {\n\t\t\t\t\tif (!r.exc && r.message) {\n\t\t\t\t\t\tfrm.set_value('sick_days', r.message);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\t//else(frm.set_value('sick_days')==='');\n}\n});\nfrappe.ui.form.on(\"Leave Application\", {\n\"employee\": function(frm) {\n\t\tif(frm.doc.employee) {\n\t\t\treturn frappe.call({\n\t\t\t\tmethod: \"erpnext.hr.doctype.leave_application.leave_application.get_leave_balance_on\",\n\t\t\t\targs: {\n\t\t\t\t\temployee: frm.doc.employee,\n\t\t\t\t\tdate: frm.doc.posting_date,\n\t\t\t\t\tleave_type: 'Vacation',\n\t\t\t\t\tconsider_all_leaves_in_the_allocation_period: true\n\t\t\t\t},\n\t\t\t\tcallback: function(r) {\n\t\t\t\t\tif (!r.exc && r.message) {\n\t\t\t\t\t\tfrm.set_value('vacation_days', r.message);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\t//else(frm.set_value('vacation_days')==='');\n}\n});\ncur_frm.add_fetch(\"employee\", \"department\", \"department\");", 
  "script_type": "Client"
 }, 
 {
  "docstatus": 0, 
  "doctype": "Custom Script", 
  "dt": "Sales Order", 
  "modified": "2017-12-22 17:23:32.235379", 
  "name": "Sales Order-Client", 
  "script": "cur_frm.fields_dict['multi_tc'].grid.get_field('mt_title').get_query = function(doc) {\n    return {\n        filters: [[\n            'Terms and Conditions', 'type', '=', doc.type_select\n        ]]\n    }\n};\nfrappe.ui.form.on(\"Sales Order\", \"refresh\", function(frm, cdt, cdn){\n\tif (!frm.doc.__islocal) {\n\t\t(frm.toggle_reqd(\"project\", true));\n\t}\n\telse {\n\t\t(frm.toggle_reqd(\"project\", false));\n\t}\n});\nfrappe.ui.form.on('Sales Order', {\n\trefresh: function(frm) {\n\tfrm.fields_dict.project.new_doc = function(){\n\t\tfrappe.run_serially([\n\t\t() => frappe.route_options = {\n\t\t\t\"project_name\": frm.doc.project_name,\n\t\t\t\"project_type\": \"External\",\n\t\t\t\"sales_order\": frm.doc.name,\n\t\t\t\"customer\": frm.doc.customer,\n\t\t\t},\n\t\t() => frappe.new_doc(\"Project\"),\n\t\t() => cur_frm.save(),\n\t\t() => frappe.set_route('Form', 'Sales Order', frm.doc.name),\n\t\t() => cur_frm.set_value(\"project\", frm.doc.project_name),\n\t\t])\n\t\t};\n\t}\n});", 
  "script_type": "Client"
 }, 
 {
  "docstatus": 0, 
  "doctype": "Custom Script", 
  "dt": "Opportunity", 
  "modified": "2017-12-14 10:51:56.294099", 
  "name": "Opportunity-Client", 
  "script": "frappe.ui.form.on(\"Opportunity\", \"refresh\", function(frm, cdt, cdn){\n// code for calculate total and set on parent field.\ntotal = 0;\n$.each(frm.doc.items || [], function(i, d) {\ntotal += flt(d.amount);\n});\nfrm.set_value(\"total\" , total);\n});\nfrappe.ui.form.on(\"Opportunity Item\", \"qty\", function(frm, cdt, cdn){\n    var d = locals[cdt][cdn];\n    frappe.model.set_value(cdt, cdn, \"amount\", d.qty * d.rate);\n});\nfrappe.ui.form.on(\"Opportunity Item\", \"qty\", function(frm, cdt, cdn){\n// code for calculate total and set on parent field.\ntotal = 0;\n$.each(frm.doc.items || [], function(i, d) {\ntotal += flt(d.amount);\n});\nfrm.set_value(\"total\" , total);\n});\nfrappe.ui.form.on(\"Opportunity Item\", \"rate\", function(frm, cdt, cdn){\n    var d = locals[cdt][cdn];\n    frappe.model.set_value(cdt, cdn, \"amount\", d.qty * d.rate);\n});\nfrappe.ui.form.on(\"Opportunity Item\", \"rate\", function(frm, cdt, cdn){\n// code for calculate total and set on parent field.\ntotal = 0;\n$.each(frm.doc.items || [], function(i, d) {\ntotal += flt(d.amount);\n});\nfrm.set_value(\"total\" , total);\n});\nfrappe.ui.form.on(\"Opportunity Item\", \"item_code\", function(frm, cdt, cdn) {\nrow = locals[cdt][cdn];\nfrappe.call({\nmethod: \"frappe.client.get\",\nargs: {\ndoctype: \"Item Price\",\nfilters: {\n\"item_code\": row.item_code,\n\"price_list\": cur_frm.doc.price_list\n}\n},\ncallback: function (data) {\nfrappe.model.set_value(cdt, cdn, \"rate\", data.message.price_list_rate);\n}\n})\n});\nfrappe.ui.form.on(\"Opportunity\", \"profit\", function(frm) {\n    frm.set_value(\"total_profit\", (frm.doc.profit / 100 * frm.doc.total)*(frm.doc.probability / 100));\n});\nfrappe.ui.form.on(\"Opportunity\", \"probability\", function(frm) {\n    frm.set_value(\"total_profit\", (frm.doc.profit / 100 * frm.doc.total)*(frm.doc.probability / 100));\n});\nfrappe.ui.form.on(\"Opportunity\", \"total\", function(frm) {\n    frm.set_value(\"total_profit\", (frm.doc.profit / 100 * frm.doc.total)*(frm.doc.probability / 100));\n});\n/*frappe.ui.form.on(\"Opportunity\", {\n\"with_items\": function(frm) {\n        if (frm.doc.with_items=='1') {\n          (frm.toggle_reqd('probability', true));\n          (frm.toggle_reqd('est_year', true));\n          //(frm.toggle_reqd('profit', true));\n        }\n        else {\n          (frm.toggle_reqd('probability', false));\n          (frm.toggle_reqd('est_year', false));\n          //(frm.toggle_reqd('profit', false));\n        }\n      }\n});*/\nfrappe.ui.form.on(\"Opportunity\", \"refresh\", function(frm) {cur_frm.fields_dict['items'].grid.get_field('item_code').get_query = function(doc) {\n        return {\n            filters: [[\n                'Item', 'item_group', '=', 'Quote Only'\n            ]]\n        }\n    };\n});\nfrappe.ui.form.on(\"Opportunity\", {\n\"quote_type\": function(frm) {\n        if (frm.doc.quote_type=='Budgetary Quote') {\n          (frm.toggle_reqd('looking_for', true));\n          (frm.toggle_reqd('equipment_type_', true));\n          (frm.toggle_reqd('project_purpose', true));\n          (frm.toggle_reqd('vessel_type', true));\n          (frm.toggle_reqd('classification', true));\n          (frm.toggle_reqd('vessel_length', true));\n          (frm.toggle_reqd('vessel_draft', true));\n          (frm.toggle_reqd('cur_noz_type', true));\n          (frm.toggle_reqd('no_of_props', true));\n          (frm.toggle_reqd('cur_prop_dia', true));\n\n          (frm.toggle_reqd('prop_rotation', false));\n          (frm.toggle_reqd('prop_blade_number', false));\n          (frm.toggle_reqd('prop_shaft_angle', false));\n          (frm.toggle_reqd('propeller_material', false));\n          (frm.toggle_reqd('keyed_rudder', false));\n          (frm.toggle_reqd('design_speed', false));\n          (frm.toggle_reqd('required_thrust_bollard', false));\n          (frm.toggle_reqd('required_thrust', false));\n          (frm.toggle_reqd('engine_manufacturer', false));\n          (frm.toggle_reqd('maximum_speed', false));\n          (frm.toggle_reqd('maximum_pulling', false));\n          (frm.toggle_reqd('engine_model', false));\n          (frm.toggle_reqd('engine_hp', false));\n          (frm.toggle_reqd('engine_rpm', false));\n          (frm.toggle_reqd('gear_box_manufacturer', false));\n          (frm.toggle_reqd('gear_box_model', false));\n          (frm.toggle_reqd('gear_ratio', false));\n          (frm.toggle_reqd('ss_stators', false));\n          (frm.toggle_reqd('headbox_height', false));\n          (frm.toggle_reqd('in_out_profile', false));\n\n          (frm.toggle_reqd('vessel_name', false));\n          (frm.toggle_reqd('abs_id_no', false));\n          (frm.toggle_reqd('hull_no', false));\n          (frm.toggle_reqd('current_eng_power', false));\n          (frm.toggle_reqd('prop_shaft_dia', false));\n          (frm.toggle_reqd('prop_shaft_material', false));\n          (frm.toggle_reqd('shaft_liner', false));\n          (frm.toggle_reqd('prop_shaft_taper', false));\n          (frm.toggle_reqd('prop_liner_thickness', false));\n          (frm.toggle_reqd('shaft_bearing_manu', false));\n          (frm.toggle_reqd('shaft_bearing_model', false));\n        }\n        else if (frm.doc.quote_type=='Final Quote') {\n          (frm.toggle_reqd('looking_for', true));\n          (frm.toggle_reqd('equipment_type_', true));\n          (frm.toggle_reqd('project_purpose', true));\n          (frm.toggle_reqd('vessel_type', true));\n          (frm.toggle_reqd('classification', true));\n          (frm.toggle_reqd('vessel_length', true));\n          (frm.toggle_reqd('vessel_draft', true));\n          (frm.toggle_reqd('cur_noz_type', true));\n          (frm.toggle_reqd('no_of_props', true));\n          (frm.toggle_reqd('cur_prop_dia', true));\n\n          (frm.toggle_reqd('prop_rotation', true));\n          (frm.toggle_reqd('prop_blade_number', true));\n          (frm.toggle_reqd('prop_shaft_angle', true));\n          (frm.toggle_reqd('propeller_material', true));\n          (frm.toggle_reqd('keyed_rudder', true));\n          (frm.toggle_reqd('design_speed', true));\n          (frm.toggle_reqd('required_thrust_bollard', true));\n          (frm.toggle_reqd('required_thrust', true));\n          (frm.toggle_reqd('engine_manufacturer', true));\n          (frm.toggle_reqd('maximum_speed', true));\n          (frm.toggle_reqd('maximum_pulling', true));\n          (frm.toggle_reqd('engine_model', true));\n          (frm.toggle_reqd('engine_hp', true));\n          (frm.toggle_reqd('engine_rpm', true));\n          (frm.toggle_reqd('gear_box_manufacturer', true));\n          (frm.toggle_reqd('gear_box_model', true));\n          (frm.toggle_reqd('gear_ratio', true));\n          (frm.toggle_reqd('ss_stators', true));\n          (frm.toggle_reqd('headbox_height', true));\n          (frm.toggle_reqd('in_out_profile', true));\n\n          (frm.toggle_reqd('vessel_name', false));\n          (frm.toggle_reqd('abs_id_no', false));\n          (frm.toggle_reqd('hull_no', false));\n          (frm.toggle_reqd('current_eng_power', false));\n          (frm.toggle_reqd('prop_shaft_dia', false));\n          (frm.toggle_reqd('prop_shaft_material', false));\n          (frm.toggle_reqd('shaft_liner', false));\n          (frm.toggle_reqd('prop_shaft_taper', false));\n          (frm.toggle_reqd('prop_liner_thickness', false));\n          (frm.toggle_reqd('shaft_bearing_manu', false));\n          (frm.toggle_reqd('shaft_bearing_model', false));\n        }\n        else if (frm.doc.quote_type=='Production') {\n          (frm.toggle_reqd('looking_for', true));\n          (frm.toggle_reqd('equipment_type_', true));\n          (frm.toggle_reqd('project_purpose', true));\n          (frm.toggle_reqd('vessel_type', true));\n          (frm.toggle_reqd('classification', true));\n          (frm.toggle_reqd('vessel_length', true));\n          (frm.toggle_reqd('vessel_draft', true));\n          (frm.toggle_reqd('cur_noz_type', true));\n          (frm.toggle_reqd('no_of_props', true));\n          (frm.toggle_reqd('cur_prop_dia', true));\n\n          (frm.toggle_reqd('prop_rotation', true));\n          (frm.toggle_reqd('prop_blade_number', true));\n          (frm.toggle_reqd('prop_shaft_angle', true));\n          (frm.toggle_reqd('propeller_material', true));\n          (frm.toggle_reqd('keyed_rudder', true));\n          (frm.toggle_reqd('design_speed', true));\n          (frm.toggle_reqd('required_thrust_bollard', true));\n          (frm.toggle_reqd('required_thrust', true));\n          (frm.toggle_reqd('engine_manufacturer', true));\n          (frm.toggle_reqd('maximum_speed', true));\n          (frm.toggle_reqd('maximum_pulling', true));\n          (frm.toggle_reqd('engine_model', true));\n          (frm.toggle_reqd('engine_hp', true));\n          (frm.toggle_reqd('engine_rpm', true));\n          (frm.toggle_reqd('gear_box_manufacturer', true));\n          (frm.toggle_reqd('gear_box_model', true));\n          (frm.toggle_reqd('gear_ratio', true));\n          (frm.toggle_reqd('ss_stators', true));\n          (frm.toggle_reqd('headbox_height', true));\n          (frm.toggle_reqd('in_out_profile', true));\n\n          (frm.toggle_reqd('vessel_name', true));\n          (frm.toggle_reqd('abs_id_no', true));\n          (frm.toggle_reqd('hull_no', true));\n          (frm.toggle_reqd('current_eng_power', true));\n          (frm.toggle_reqd('prop_shaft_dia', true));\n          (frm.toggle_reqd('prop_shaft_material', true));\n          (frm.toggle_reqd('shaft_liner', true));\n          (frm.toggle_reqd('prop_shaft_taper', true));\n          (frm.toggle_reqd('prop_liner_thickness', true));\n          (frm.toggle_reqd('shaft_bearing_manu', true));\n          (frm.toggle_reqd('shaft_bearing_model', true));\n        }\n        else {\n          (frm.toggle_reqd('looking_for', false));\n          (frm.toggle_reqd('equipment_type_', false));\n          (frm.toggle_reqd('project_purpose', false));\n          (frm.toggle_reqd('vessel_type', false));\n          (frm.toggle_reqd('classification', false));\n          (frm.toggle_reqd('vessel_length', false));\n          (frm.toggle_reqd('vessel_draft', false));\n          (frm.toggle_reqd('cur_noz_type', false));\n          (frm.toggle_reqd('no_of_props', false));\n          (frm.toggle_reqd('cur_prop_dia', false));\n\n          (frm.toggle_reqd('prop_rotation', false));\n          (frm.toggle_reqd('prop_blade_number', false));\n          (frm.toggle_reqd('prop_shaft_angle', false));\n          (frm.toggle_reqd('propeller_material', false));\n          (frm.toggle_reqd('keyed_rudder', false));\n          (frm.toggle_reqd('design_speed', false));\n          (frm.toggle_reqd('required_thrust_bollard', false));\n          (frm.toggle_reqd('required_thrust', false));\n          (frm.toggle_reqd('engine_manufacturer', false));\n          (frm.toggle_reqd('maximum_speed', false));\n          (frm.toggle_reqd('maximum_pulling', false));\n          (frm.toggle_reqd('engine_model', false));\n          (frm.toggle_reqd('engine_hp', false));\n          (frm.toggle_reqd('engine_rpm', false));\n          (frm.toggle_reqd('gear_box_manufacturer', false));\n          (frm.toggle_reqd('gear_box_model', false));\n          (frm.toggle_reqd('gear_ratio', false));\n          (frm.toggle_reqd('ss_stators', false));\n          (frm.toggle_reqd('headbox_height', false));\n          (frm.toggle_reqd('in_out_profile', false));\n\n          (frm.toggle_reqd('vessel_name', false));\n          (frm.toggle_reqd('abs_id_no', false));\n          (frm.toggle_reqd('hull_no', false));\n          (frm.toggle_reqd('current_eng_power', false));\n          (frm.toggle_reqd('prop_shaft_dia', false));\n          (frm.toggle_reqd('prop_shaft_material', false));\n          (frm.toggle_reqd('shaft_liner', false));\n          (frm.toggle_reqd('prop_shaft_taper', false));\n          (frm.toggle_reqd('prop_liner_thickness', false));\n          (frm.toggle_reqd('shaft_bearing_manu', false));\n          (frm.toggle_reqd('shaft_bearing_model', false));\n        }\n      }\n});\nfrappe.ui.form.on(\"Opportunity\", \"onload\", function(frm) {\n\tfrappe.db.get_value(\"Lead\", { name: cur_frm.doc.lead },\n\t\t\"name\", function(data){\n\tcur_frm.set_value(\"lead_number\", data.name);\n\t});\n\tfrappe.db.get_value(\"Lead\", { name: cur_frm.doc.lead },\n\t\t\"customer\", function(data){\n\tcur_frm.set_value(\"customer\", data.customer);\n\t});\n});\nfrappe.ui.form.on(\"Opportunity\", {\n\"title\": function(frm) {\n\tcur_frm.set_value(\"enquiry_from\", \"Customer\");\n\t}\n});", 
  "script_type": "Client"
 }, 
 {
  "docstatus": 0, 
  "doctype": "Custom Script", 
  "dt": "Project", 
  "modified": "2017-12-15 16:57:09.229663", 
  "name": "Project-Client", 
  "script": null, 
  "script_type": "Client"
 }
]